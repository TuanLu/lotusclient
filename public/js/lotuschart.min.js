!function(e){function t(t){for(var s,o,l=t[0],i=t[1],c=t[2],p=0,h=[];p<l.length;p++)o=l[p],r[o]&&h.push(r[o][0]),r[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(u&&u(t);h.length;)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={1:0},n=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;n.push([698,0]),a()}({431:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(68),o=a.n(n),l=a(134),i=a(196),c=a(96);class u extends r.a.Component{constructor(e){super(e),this.fetchData=this.fetchData.bind(this),this.state={data:{},options:{},legend:{},showChart:!1,url:this.props.url,dataUpToDate:null}}fetchData(){let e=this.state.url;if(!e)return!1;fetch(e).then(e=>e.json()).then(e=>{if(e.status&&"error"==e.status)return console.warn(e.message),!1;this.setState({data:e.data,options:e.options,width:e.width,height:e.height,showChart:!0,dataUpToDate:!0})}).catch(e=>{console.log("parsing failed",e)})}static getDerivedStateFromProps(e,t){return e.url!=t.url?{url:e.url,dataUpToDate:null}:null}componentDidMount(){this.fetchData()}componentDidUpdate(e,t){null===this.state.dataUpToDate&&this.fetchData()}render(){var e=this.state;let t=e.data,a=e.options,s=e.width,n=e.height,o=e.legend;return r.a.createElement("div",{className:"ui segment"},this.state.dataUpToDate?r.a.createElement(r.a.Fragment,null,"horizontalBar"==this.props.type?r.a.createElement(i.b,{redraw:!0,legend:o,data:t,width:s||300,height:n||300,options:a}):r.a.createElement(i.a,{redraw:!0,legend:o,data:t,width:s||300,height:n||300,options:a})):r.a.createElement(c.b,{active:!0,inline:!0,content:"Loading"}))}}var p={START_APP:"START_APP",UPDATE_STATE_DATA:"UPDATE_STATE_DATA"};const h=e=>({type:p.UPDATE_STATE_DATA,updateData:e});var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};const d=(e,t)=>Array.from(Array(t-e+1).keys()).map(t=>t+e);let m=d(2016,(new Date).getFullYear()).map(e=>({key:e,value:e,text:"Năm "+e}));class f extends r.a.Component{constructor(e){super(e);d(2016,(new Date).getFullYear());this.state={yearOptions:m,productOptions:[]}}componentDidMount(){fetch("/product").then(e=>e.json()).then(e=>{if(e.status&&"error"==e.status)return console.warn(e.message),!1;if(e.data){let t=e.data.map(e=>({key:e.product_id,value:e.product_id,text:e.name}));this.setState({productOptions:t})}}).catch(e=>{console.log("parsing failed",e)})}render(){return r.a.createElement("div",{className:"ui segment ui grid equal width"},r.a.createElement("div",{className:"column"},r.a.createElement(c.a,{onChange:(e,t)=>{this.props.dispatch(h({filter:j({},this.props.mainState.filter,{year:t.value})}))},placeholder:"Chọn Năm",selection:!0,defaultValue:2017,options:this.state.yearOptions})," | ",r.a.createElement(c.a,{onChange:(e,t)=>{this.props.dispatch(h({filter:j({},this.props.mainState.filter,{product:t.value})}))},placeholder:"Chọn Sản Phẩm",search:!0,selection:!0,options:this.state.productOptions})))}}Chart.defaults.global.hover.mode="nearest",Chart.defaults.global.defaultFontColor="#000",Chart.defaults.global.defaultFontFamily="'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",Chart.defaults.global.defaultFontSize=16;var v=Object(l.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends s.Component{render(){var e=this.props.mainState.filter;let t=e.year,a=e.product;return r.a.createElement("div",{className:"ui container"},r.a.createElement("h1",{style:{textAlign:"center"}},"Các biểu đồ báo cáo theo thời gian"),r.a.createElement("div",{className:"ui grid equal width"},r.a.createElement("div",{className:"column"},r.a.createElement(f,{dispatch:this.props.dispatch,mainState:this.props.mainState}))),r.a.createElement("div",{className:"grid ui equal width"},r.a.createElement("div",{className:"column"},r.a.createElement(u,{url:`http://erpapp/report?year=${t}&product-id=${a}`})),r.a.createElement("div",{className:"column"},r.a.createElement(u,{url:`http://erpapp/report?year=${t}&type=month&product-id=${a}`}))),r.a.createElement("div",{className:"ui grid equal width"},r.a.createElement("div",{className:"column"},r.a.createElement(u,{url:`http://erpapp/report?year=${t}&type=weekofyear&product-id=${a}`}))),r.a.createElement("div",{className:"ui grid equal width"},r.a.createElement("div",{className:"column"},r.a.createElement(u,{type:"horizontalBar",url:`http://erpapp/report?year=${t}&type=products`}))))}}),g=a(198),y=a(187),b=a.n(y),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};let w,D={filter:{year:2017}};var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};let A={sidebar:{open:!1,columnId:null},notify:{open:!0,message:"Hahah",header:"Heheh",type:"success"},savePanel:{open:!1},saveDesignNow:!1};var k=a(396),O=a.n(k);let _=[p.UPDATE_STATE_DATA];var z=Object(g.b)({main:O()((e=D,t)=>{switch(t.type){case p.START_APP:return w=b()(e),w=E({},w,t.defaultProps);case p.UPDATE_STATE_DATA:return w=b()(e),w=E({},w,t.updateData)}return e},{filter:(e,t,a)=>-1!==_.indexOf(e.type),limit:100}),ui:(e=A,t)=>{switch(t.type){case p.UPDATE_UI:return T({},e,t.updateData);case p.TOGGLE_SAVE:return T({},e,{savePanel:{open:t.open}});case p.SAVE_DESIGN_NOW:return T({},e,{saveDesignNow:t.confirm||!1})}return e}});const P=Object(g.c)(z);P.close=(()=>P.dispatch(END));var N=P;a(395),Object.assign;const S=document.getElementById("isd_app");o.a.render(r.a.createElement(l.a,{store:N},r.a.createElement(v,null)),S)},659:function(e,t,a){var s={"./af":388,"./af.js":388,"./ar":387,"./ar-dz":386,"./ar-dz.js":386,"./ar-kw":385,"./ar-kw.js":385,"./ar-ly":384,"./ar-ly.js":384,"./ar-ma":383,"./ar-ma.js":383,"./ar-sa":382,"./ar-sa.js":382,"./ar-tn":381,"./ar-tn.js":381,"./ar.js":387,"./az":380,"./az.js":380,"./be":379,"./be.js":379,"./bg":378,"./bg.js":378,"./bm":377,"./bm.js":377,"./bn":376,"./bn.js":376,"./bo":375,"./bo.js":375,"./br":374,"./br.js":374,"./bs":373,"./bs.js":373,"./ca":372,"./ca.js":372,"./cs":371,"./cs.js":371,"./cv":370,"./cv.js":370,"./cy":369,"./cy.js":369,"./da":368,"./da.js":368,"./de":367,"./de-at":366,"./de-at.js":366,"./de-ch":365,"./de-ch.js":365,"./de.js":367,"./dv":364,"./dv.js":364,"./el":363,"./el.js":363,"./en-au":362,"./en-au.js":362,"./en-ca":361,"./en-ca.js":361,"./en-gb":360,"./en-gb.js":360,"./en-ie":359,"./en-ie.js":359,"./en-il":358,"./en-il.js":358,"./en-nz":357,"./en-nz.js":357,"./eo":356,"./eo.js":356,"./es":355,"./es-do":354,"./es-do.js":354,"./es-us":353,"./es-us.js":353,"./es.js":355,"./et":352,"./et.js":352,"./eu":351,"./eu.js":351,"./fa":350,"./fa.js":350,"./fi":349,"./fi.js":349,"./fo":348,"./fo.js":348,"./fr":347,"./fr-ca":346,"./fr-ca.js":346,"./fr-ch":345,"./fr-ch.js":345,"./fr.js":347,"./fy":344,"./fy.js":344,"./gd":343,"./gd.js":343,"./gl":342,"./gl.js":342,"./gom-latn":341,"./gom-latn.js":341,"./gu":340,"./gu.js":340,"./he":339,"./he.js":339,"./hi":338,"./hi.js":338,"./hr":337,"./hr.js":337,"./hu":336,"./hu.js":336,"./hy-am":335,"./hy-am.js":335,"./id":334,"./id.js":334,"./is":333,"./is.js":333,"./it":332,"./it.js":332,"./ja":331,"./ja.js":331,"./jv":330,"./jv.js":330,"./ka":329,"./ka.js":329,"./kk":328,"./kk.js":328,"./km":327,"./km.js":327,"./kn":326,"./kn.js":326,"./ko":325,"./ko.js":325,"./ky":324,"./ky.js":324,"./lb":323,"./lb.js":323,"./lo":322,"./lo.js":322,"./lt":321,"./lt.js":321,"./lv":320,"./lv.js":320,"./me":319,"./me.js":319,"./mi":318,"./mi.js":318,"./mk":317,"./mk.js":317,"./ml":316,"./ml.js":316,"./mn":315,"./mn.js":315,"./mr":314,"./mr.js":314,"./ms":313,"./ms-my":312,"./ms-my.js":312,"./ms.js":313,"./mt":311,"./mt.js":311,"./my":310,"./my.js":310,"./nb":309,"./nb.js":309,"./ne":308,"./ne.js":308,"./nl":307,"./nl-be":306,"./nl-be.js":306,"./nl.js":307,"./nn":305,"./nn.js":305,"./pa-in":304,"./pa-in.js":304,"./pl":303,"./pl.js":303,"./pt":302,"./pt-br":301,"./pt-br.js":301,"./pt.js":302,"./ro":300,"./ro.js":300,"./ru":299,"./ru.js":299,"./sd":298,"./sd.js":298,"./se":297,"./se.js":297,"./si":296,"./si.js":296,"./sk":295,"./sk.js":295,"./sl":294,"./sl.js":294,"./sq":293,"./sq.js":293,"./sr":292,"./sr-cyrl":291,"./sr-cyrl.js":291,"./sr.js":292,"./ss":290,"./ss.js":290,"./sv":289,"./sv.js":289,"./sw":288,"./sw.js":288,"./ta":287,"./ta.js":287,"./te":286,"./te.js":286,"./tet":285,"./tet.js":285,"./tg":284,"./tg.js":284,"./th":283,"./th.js":283,"./tl-ph":282,"./tl-ph.js":282,"./tlh":281,"./tlh.js":281,"./tr":280,"./tr.js":280,"./tzl":279,"./tzl.js":279,"./tzm":278,"./tzm-latn":277,"./tzm-latn.js":277,"./tzm.js":278,"./ug-cn":276,"./ug-cn.js":276,"./uk":275,"./uk.js":275,"./ur":274,"./ur.js":274,"./uz":273,"./uz-latn":272,"./uz-latn.js":272,"./uz.js":273,"./vi":271,"./vi.js":271,"./x-pseudo":270,"./x-pseudo.js":270,"./yo":269,"./yo.js":269,"./zh-cn":268,"./zh-cn.js":268,"./zh-hk":267,"./zh-hk.js":267,"./zh-tw":266,"./zh-tw.js":266};function r(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error('Cannot find module "'+e+'".');throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=659},698:function(e,t,a){e.exports=a(431)}});