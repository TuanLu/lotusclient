!function(e){function t(t){for(var r,l,i=t[0],o=t[1],c=t[2],u=0,m=[];u<i.length;u++)l=i[u],n[l]&&m.push(n[l][0]),n[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(p&&p(t);m.length;)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={1:0},s=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},l.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var p=o;s.push([698,0]),a()}({431:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(70),l=a.n(s),i=a(21);var o={START_APP:"START_APP",UPDATE_STATE_DATA:"UPDATE_STATE_DATA"};const c=e=>({type:o.UPDATE_STATE_DATA,updateData:e});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};var u=Object(i.b)(e=>({mainState:e.main.present}))(class extends r.Component{constructor(e){super(e),this.showReportBy=this.showReportBy.bind(this),this.showMenu=this.showMenu.bind(this)}showReportBy(e){this.props.dispatch(c({reportBy:e}))}showMenu(){let e=this.props.mainState.reportBy;return[{reportBy:"doanh_thu_tong",title:"Doanh thu theo năm"},{reportBy:"theo_mien",title:"Doanh thu theo miền"},{reportBy:"theo_tinh",title:"Doanh thu theo tỉnh",filter:{area:"b",quarter:1}}].map((t,a)=>n.a.createElement("div",{onClick:()=>{let e={reportBy:t.reportBy};t.filter&&(e=p({},e,{filter:p({},this.props.mainState.filter,t.filter)})),this.props.dispatch(c(e))},key:a,className:`menu_item ${e==t.reportBy?"active":""}`},n.a.createElement("div",{className:"info"},t.title)))}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"main_menu"},this.showMenu(),n.a.createElement("div",{className:"menu_item"},n.a.createElement("div",{className:"info"},"Quản lý kế hoạch")),n.a.createElement("div",{className:"menu_item"},n.a.createElement("div",{className:"info"},"Quy đổi đơn vị tính")),n.a.createElement("div",{className:"menu_item"},n.a.createElement("div",{className:"info"},"Tất cả biểu đồ"))))}}),m=a(196),d=a(31),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};class v extends n.a.Component{constructor(e){super(e),this.fetchData=this.fetchData.bind(this),this.state={data:{},options:{},legend:{},showChart:!1,url:this.props.url,dataUpToDate:null}}fetchData(){let e=this.state.url;if(!e)return!1;fetch(e).then(e=>e.json()).then(e=>{if(e.status&&"error"==e.status)return console.warn(e.message),!1;this.setState({data:e.data,options:e.options,width:e.width,height:e.height,showChart:!0,dataUpToDate:!0,legend:e.legend||{}})}).catch(e=>{console.log("parsing failed",e)})}static getDerivedStateFromProps(e,t){return e.url!=t.url?{url:e.url,dataUpToDate:null}:null}componentDidMount(){this.fetchData()}componentDidUpdate(e,t){null===this.state.dataUpToDate&&this.fetchData()}render(){var e=this.state;let t=e.data,a=e.options,r=e.width,s=e.height,l=e.legend;return a=h({},a,{tooltips:{}}),n.a.createElement("div",{className:"ui segment"},this.state.dataUpToDate?n.a.createElement(n.a.Fragment,null,"horizontalBar"==this.props.type?n.a.createElement(m.b,{redraw:!1,legend:l,data:t,width:r||300,height:s||300,options:a}):n.a.createElement(m.a,{redraw:!1,legend:l,data:t,width:r||300,height:s||300,options:a})):n.a.createElement(d.b,{active:!0,inline:!0,content:"Loading"}))}}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let j=((e,t)=>Array.from(Array(t-e+1).keys()).map(t=>t+e))(2016,(new Date).getFullYear()).map(e=>({key:e,value:e,text:"Năm "+e}));var y=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.year==t.value)return!1;this.props.dispatch(c({filter:f({},this.props.mainState.filter,{year:t.value})}))},placeholder:"Chọn Năm",selection:!0,value:this.props.mainState.filter.year,options:j})}}),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};var g=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{constructor(e){super(e),this.state={productOptions:[{key:"all",value:"all",text:"Tất cả sản phẩm"}]}}componentDidMount(){this.props.mainState.products.length?this.setState({productOptions:[...this.state.productOptions,...this.props.mainState.products]}):fetch(ISD_BASE_URL+"product").then(e=>e.json()).then(e=>{if(e.status&&"error"==e.status)return console.warn(e.message),!1;if(e.data){let t=e.data.map(e=>({key:e.product_id,value:e.product_id,text:e.name}));t.length&&this.props.dispatch(c({products:t})),this.setState({productOptions:[...this.state.productOptions,...t]})}}).catch(e=>{console.log("parsing failed",e)})}render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.product==t.value)return!1;this.props.dispatch(c({filter:E({},this.props.mainState.filter,{product:t.value})}))},placeholder:"Chọn Sản Phẩm",selection:!0,search:!0,loading:1==this.state.productOptions.length,value:this.props.mainState.filter.product,options:this.state.productOptions})}});var b=({})=>n.a.createElement("button",{className:"ui button icon teal"},n.a.createElement("i",{className:"icon filter"})," ",n.a.createElement("span",null,"Lọc theo "));var w=Object(i.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends r.Component{render(){var e=this.props.mainState.filter;let t=e.year,a=e.product;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"ui segment"},n.a.createElement(b,null),n.a.createElement(y,null)," | ",n.a.createElement(g,null)),n.a.createElement("div",{className:"grid ui padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=year&product-id=${a}`})),n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=quarter&product-id=${a}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=month&product-id=${a}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=weekofyear&product-id=${a}`}))))}}),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let S=[{key:"all",value:"all",text:"Tất cả vùng miền"},{key:"b",value:"b",text:"Bắc"},{key:"t",value:"t",text:"Trung"},{key:"n",value:"n",text:"Nam"},{key:"cod",value:"cod",text:"Cash On Delivery"}];var N=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.area==t.value)return!1;this.props.dispatch(c({filter:O({},this.props.mainState.filter,{area:t.value})}))},placeholder:"Chọn Vùng Miền",selection:!0,value:this.props.mainState.filter.area,options:S})}});var _=Object(i.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends r.Component{render(){var e=this.props.mainState.filter;let t=e.year,a=e.product,r=e.area;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"ui segment"},n.a.createElement(b,null),n.a.createElement(y,null)," | ",n.a.createElement(N,null)," | ",n.a.createElement(g,null)),n.a.createElement("div",{className:"grid ui padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=areas&product-id=${a}`}))),n.a.createElement("div",{className:"grid ui padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=area_quarter&product-id=${a}&area=${r}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=area_month&product-id=${a}&area=${r}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{url:`http://erpapp/report?year=${t}&type=area_week&product-id=${a}&area=${r}`}))))}}),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};const D=[{key:1,value:1,text:"Quý 1"},{key:2,value:2,text:"Quý 2"},{key:3,value:3,text:"Quý 3"},{key:4,value:4,text:"Quý 4"}];var T=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.quarter==t.value)return!1;this.props.dispatch(c({filter:k({},this.props.mainState.filter,{quarter:t.value})}))},placeholder:"Chọn Quý",selection:!0,value:this.props.mainState.filter.quarter,options:D})}}),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};const C=[];for(let e=1;e<=12;e++)C.push({key:e,value:e,text:`Tháng ${e}`});var A=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.month==t.value)return!1;this.props.dispatch(c({filter:x({},this.props.mainState.filter,{month:t.value})}))},placeholder:"Chọn Tháng",selection:!0,value:this.props.mainState.filter.month,options:C})}}),$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};const P=[];for(let e=1;e<=52;e++)P.push({key:e,value:e,text:`Tuần ${e}`});var z=Object(i.b)(e=>({mainState:e.main.present}))(class extends n.a.Component{render(){return n.a.createElement(d.a,{compact:!0,onChange:(e,t)=>{if(this.props.mainState.filter.week==t.value)return!1;this.props.dispatch(c({filter:$({},this.props.mainState.filter,{week:t.value})}))},placeholder:"Chọn Tuần",selection:!0,value:this.props.mainState.filter.week,options:P})}});var B=Object(i.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends r.Component{render(){var e=this.props.mainState.filter;let t=e.year,a=e.product,r=e.area,s=e.quarter,l=e.month,i=e.week;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"ui segment"},n.a.createElement(b,null),n.a.createElement(N,{required:!0})," | ",n.a.createElement(g,null)," | ",n.a.createElement(y,null)," | ",n.a.createElement(T,null)," | ",n.a.createElement(A,null)," | ",n.a.createElement(z,null)),n.a.createElement("div",{className:"grid ui padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{type:"horizontalBar",url:`http://erpapp/reportbyprovince?year=${t}&type=provinces&product-id=${a}&area=${r}`}))),n.a.createElement("div",{className:"grid ui padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{type:"horizontalBar",url:`http://erpapp/reportbyprovince?year=${t}&type=provinces_quarter&product-id=${a}&area=${r}&quarter=${s}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{type:"horizontalBar",url:`http://erpapp/reportbyprovince?year=${t}&type=provinces_month&product-id=${a}&area=${r}&month=${l}`}))),n.a.createElement("div",{className:"ui grid padded equal width"},n.a.createElement("div",{className:"column"},n.a.createElement(v,{type:"horizontalBar",url:`http://erpapp/reportbyprovince?year=${t}&type=provinces_week&product-id=${a}&area=${r}&week=${i}`}))))}});Chart.defaults.global.hover.mode="nearest",Chart.defaults.global.defaultFontColor="#000",Chart.defaults.global.defaultFontFamily="'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",Chart.defaults.global.defaultFontSize=16,Chart.plugins.register({afterDatasetsDraw:function(e){var t=e.ctx;e.data.datasets.forEach(function(a,r){var n=e.getDatasetMeta(r);e.config.options.showTooltip&&(n.hidden||n.data.forEach(function(e,r){t.fillStyle="rgb(0, 0, 0)";t.font=Chart.helpers.fontString(12,"normal","Helvetica Neue");var n=a.data[r].toString();t.textAlign="center",t.textBaseline="middle";var s=e.tooltipPosition();t.fillText(n,s.x,s.y-6-5)}))})}});var q=Object(i.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends r.Component{constructor(e){super(e),this.renderReport=this.renderReport.bind(this)}renderReport(){switch(this.props.mainState.reportBy){case"theo_mien":return n.a.createElement(_,null);case"theo_tinh":return n.a.createElement(B,null);default:return n.a.createElement(w,null)}}render(){var e=this.props.mainState.filter;return e.year,e.product,n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid-container"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header_left"},n.a.createElement("div",null,"Menu")),n.a.createElement("div",{className:"header_center"},n.a.createElement("h2",null,"BÁO CÁO NỘI BỘ DƯỢC PHẨM TUỆ ĐỨC")),n.a.createElement("div",{className:"header_right"},"Liên Kết")),n.a.createElement("div",{className:"menu menu_active"},n.a.createElement("a",{href:"#"},n.a.createElement("img",{width:"200",src:"images/logo-pharma.png"})),n.a.createElement("div",{className:"block_ava"},n.a.createElement("a",{href:"#"},n.a.createElement("img",{src:"images/ava.jpg"})),n.a.createElement("p",null,"Xin chào,",n.a.createElement("span",null,"Admin!"))),n.a.createElement(u,null)),n.a.createElement("div",{className:"isd_main"},n.a.createElement("div",{className:"main_content"},n.a.createElement("div",{className:"main_content_left active",page:"main"},n.a.createElement("div",{className:"list_infos"},this.renderReport()))))))}}),U=a(198),F=a(187),M=a.n(F),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let I,L={filter:{year:2017,product:"all",area:"all",quarter:1,month:1,week:1},products:[],reportBy:"theo_tinh"};var Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let H={sidebar:{open:!1,columnId:null},notify:{open:!0,message:"Hahah",header:"Heheh",type:"success"},savePanel:{open:!1},saveDesignNow:!1};var G=a(396),V=a.n(G);let J=[o.UPDATE_STATE_DATA];var Y=Object(U.b)({main:V()((e=L,t)=>{switch(t.type){case o.START_APP:return I=M()(e),I=R({},I,t.defaultProps);case o.UPDATE_STATE_DATA:return I=M()(e),I=R({},I,t.updateData)}return e},{filter:(e,t,a)=>-1!==J.indexOf(e.type),limit:100}),ui:(e=H,t)=>{switch(t.type){case o.UPDATE_UI:return Q({},e,t.updateData);case o.TOGGLE_SAVE:return Q({},e,{savePanel:{open:t.open}});case o.SAVE_DESIGN_NOW:return Q({},e,{saveDesignNow:t.confirm||!1})}return e}});const K=Object(U.c)(Y);K.close=(()=>K.dispatch(END));var W=K;a(395),Object.assign;window.ISD_BASE_URL="http://erpapp/",window.ISD_CONFIG={defaultYear:2017,defaultArea:"all"};const X=document.getElementById("isd_chart");l.a.render(n.a.createElement(i.a,{store:W},n.a.createElement(q,null)),X)},659:function(e,t,a){var r={"./af":388,"./af.js":388,"./ar":387,"./ar-dz":386,"./ar-dz.js":386,"./ar-kw":385,"./ar-kw.js":385,"./ar-ly":384,"./ar-ly.js":384,"./ar-ma":383,"./ar-ma.js":383,"./ar-sa":382,"./ar-sa.js":382,"./ar-tn":381,"./ar-tn.js":381,"./ar.js":387,"./az":380,"./az.js":380,"./be":379,"./be.js":379,"./bg":378,"./bg.js":378,"./bm":377,"./bm.js":377,"./bn":376,"./bn.js":376,"./bo":375,"./bo.js":375,"./br":374,"./br.js":374,"./bs":373,"./bs.js":373,"./ca":372,"./ca.js":372,"./cs":371,"./cs.js":371,"./cv":370,"./cv.js":370,"./cy":369,"./cy.js":369,"./da":368,"./da.js":368,"./de":367,"./de-at":366,"./de-at.js":366,"./de-ch":365,"./de-ch.js":365,"./de.js":367,"./dv":364,"./dv.js":364,"./el":363,"./el.js":363,"./en-au":362,"./en-au.js":362,"./en-ca":361,"./en-ca.js":361,"./en-gb":360,"./en-gb.js":360,"./en-ie":359,"./en-ie.js":359,"./en-il":358,"./en-il.js":358,"./en-nz":357,"./en-nz.js":357,"./eo":356,"./eo.js":356,"./es":355,"./es-do":354,"./es-do.js":354,"./es-us":353,"./es-us.js":353,"./es.js":355,"./et":352,"./et.js":352,"./eu":351,"./eu.js":351,"./fa":350,"./fa.js":350,"./fi":349,"./fi.js":349,"./fo":348,"./fo.js":348,"./fr":347,"./fr-ca":346,"./fr-ca.js":346,"./fr-ch":345,"./fr-ch.js":345,"./fr.js":347,"./fy":344,"./fy.js":344,"./gd":343,"./gd.js":343,"./gl":342,"./gl.js":342,"./gom-latn":341,"./gom-latn.js":341,"./gu":340,"./gu.js":340,"./he":339,"./he.js":339,"./hi":338,"./hi.js":338,"./hr":337,"./hr.js":337,"./hu":336,"./hu.js":336,"./hy-am":335,"./hy-am.js":335,"./id":334,"./id.js":334,"./is":333,"./is.js":333,"./it":332,"./it.js":332,"./ja":331,"./ja.js":331,"./jv":330,"./jv.js":330,"./ka":329,"./ka.js":329,"./kk":328,"./kk.js":328,"./km":327,"./km.js":327,"./kn":326,"./kn.js":326,"./ko":325,"./ko.js":325,"./ky":324,"./ky.js":324,"./lb":323,"./lb.js":323,"./lo":322,"./lo.js":322,"./lt":321,"./lt.js":321,"./lv":320,"./lv.js":320,"./me":319,"./me.js":319,"./mi":318,"./mi.js":318,"./mk":317,"./mk.js":317,"./ml":316,"./ml.js":316,"./mn":315,"./mn.js":315,"./mr":314,"./mr.js":314,"./ms":313,"./ms-my":312,"./ms-my.js":312,"./ms.js":313,"./mt":311,"./mt.js":311,"./my":310,"./my.js":310,"./nb":309,"./nb.js":309,"./ne":308,"./ne.js":308,"./nl":307,"./nl-be":306,"./nl-be.js":306,"./nl.js":307,"./nn":305,"./nn.js":305,"./pa-in":304,"./pa-in.js":304,"./pl":303,"./pl.js":303,"./pt":302,"./pt-br":301,"./pt-br.js":301,"./pt.js":302,"./ro":300,"./ro.js":300,"./ru":299,"./ru.js":299,"./sd":298,"./sd.js":298,"./se":297,"./se.js":297,"./si":296,"./si.js":296,"./sk":295,"./sk.js":295,"./sl":294,"./sl.js":294,"./sq":293,"./sq.js":293,"./sr":292,"./sr-cyrl":291,"./sr-cyrl.js":291,"./sr.js":292,"./ss":290,"./ss.js":290,"./sv":289,"./sv.js":289,"./sw":288,"./sw.js":288,"./ta":287,"./ta.js":287,"./te":286,"./te.js":286,"./tet":285,"./tet.js":285,"./tg":284,"./tg.js":284,"./th":283,"./th.js":283,"./tl-ph":282,"./tl-ph.js":282,"./tlh":281,"./tlh.js":281,"./tr":280,"./tr.js":280,"./tzl":279,"./tzl.js":279,"./tzm":278,"./tzm-latn":277,"./tzm-latn.js":277,"./tzm.js":278,"./ug-cn":276,"./ug-cn.js":276,"./uk":275,"./uk.js":275,"./ur":274,"./ur.js":274,"./uz":273,"./uz-latn":272,"./uz-latn.js":272,"./uz.js":273,"./vi":271,"./vi.js":271,"./x-pseudo":270,"./x-pseudo.js":270,"./yo":269,"./yo.js":269,"./zh-cn":268,"./zh-cn.js":268,"./zh-hk":267,"./zh-hk.js":267,"./zh-tw":266,"./zh-tw.js":266};function n(e){var t=s(e);return a(t)}function s(e){var t=r[e];if(!(t+1)){var a=new Error('Cannot find module "'+e+'".');throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=659},698:function(e,t,a){e.exports=a(431)}});